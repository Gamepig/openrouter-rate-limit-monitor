# OpenRouter Rate Limit Monitor - 更新日誌

## [1.1.0] - 2025-06-24

### 🎉 重大功能增強

#### ✅ 額度顯示完全修復
- **新增**: 整合 OpenRouter `/credits` API 端點
- **修復**: 額度使用量現在顯示實際的帳戶餘額
- **改善**: 從 `0.00 (付費帳戶)` 改為 `已用 $0.21 / 總額 $15.00 (剩餘 $14.79)`
- **技術**: 實作並行 API 請求（`/auth/key` + `/credits`）

#### 📊 Rate Limit 資訊準確化
- **修復**: 根據 OpenRouter 官方文件更新每日限制邏輯
- **新增**: 購買額度判斷（≥10 額度 = 1000 requests/day，<10 額度 = 50 requests/day）
- **改善**: 付費帳戶正確顯示無每日限制
- **驗證**: 實際 Rate Limit 從 API 獲取（150 requests/10s）

#### 🔧 技術改善
- **新增**: `generateCreditsNote()` 方法提供智慧額度說明
- **改善**: 錯誤處理和向後相容性
- **優化**: 30 秒智慧快取機制
- **新增**: 詳細的 JSON 輸出格式

### 📚 文件更新
- **更新**: FEATURES_AND_USAGE.md 反映新功能
- **更新**: LIMITATIONS_AND_IMPROVEMENTS.md 標記主要問題已解決
- **新增**: 詳細的技術實作說明

#### 🖥️ 監控顯示優化
- **改善**: 監控模式現在顯示完整額度資訊
- **修復**: 從 `Credits: 0.21` 改為 `Used: $0.21 | Left: $14.79`
- **增強**: 清楚區分已使用和剩餘額度

### 🧪 測試結果
- ✅ 狀態檢查：額度顯示完全準確
- ✅ 監控功能：實時額度追蹤正常，完整顯示已用/剩餘
- ✅ JSON 輸出：完整資料結構
- ✅ 向後相容：舊格式仍可正常運作
- ✅ watch.sh 腳本：正確顯示新格式

---

## [1.0.0] - 2025-06-23

### 🚀 初始版本發布

#### ✅ 核心功能實作
- **API 狀態檢查**: 基本的 OpenRouter API 狀態監控
- **即時監控**: 持續監控模式，支援警告和警報
- **API Key 管理**: 安全的多金鑰管理系統
- **歷史記錄**: 本地使用歷史追蹤
- **配置管理**: 完整的配置系統

#### 🔧 技術架構
- **CLI 框架**: Commander.js 指令系統
- **資料儲存**: JSON 資料庫 + AES-256-GCM 加密
- **錯誤處理**: 多層錯誤處理機制
- **快取系統**: 記憶體快取減少 API 請求

#### ⚠️ 已知限制
- **額度顯示**: 無法正確顯示實際消費金額 (已在 v1.1.0 修復)
- **Rate Limit**: 使用預估值而非 API 實際值 (已在 v1.1.0 修復)

#### 📁 檔案結構
- **bin/**: CLI 入口點
- **src/**: 核心程式碼
- **docs/**: 完整文件
- **package.json**: 依賴管理

---

## 版本說明

### 版本號規則
- **主版本.次版本.修補版本** (例如: 1.1.0)
- **主版本**: 重大架構變更或不相容變更
- **次版本**: 新功能或重要改善
- **修補版本**: Bug 修復或小改善

### 變更類型
- 🎉 **重大功能增強**: 新功能或重要改善
- ✅ **修復**: Bug 修復
- 📊 **改善**: 效能或體驗改善
- 🔧 **技術**: 內部技術改善
- 📚 **文件**: 文件更新
- ⚠️ **已知問題**: 記錄的限制或問題
- 🧪 **測試**: 測試相關改善

---

*最後更新: 2025-06-24*